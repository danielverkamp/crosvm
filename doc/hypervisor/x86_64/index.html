<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `x86_64` mod in crate `hypervisor`."><meta name="keywords" content="rust, rustlang, rust-lang, x86_64"><title>hypervisor::x86_64 - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../hypervisor/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../hypervisor/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module x86_64</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section><div id="sidebar-vars" data-name="x86_64" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../hypervisor/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">hypervisor</a>::<wbr><a class="mod" href="#">x86_64</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/hypervisor/x86_64.rs.html#5-846">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CpuConfigX86_64.html" title="hypervisor::x86_64::CpuConfigX86_64 struct">CpuConfigX86_64</a></div><div class="item-right docblock-short"><p>Hold the CPU feature configurations that are needed to setup a vCPU.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CpuId.html" title="hypervisor::x86_64::CpuId struct">CpuId</a></div><div class="item-right docblock-short"><p>A container for the list of cpu id entries for the hypervisor and underlying cpu.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CpuIdEntry.html" title="hypervisor::x86_64::CpuIdEntry struct">CpuIdEntry</a></div><div class="item-right docblock-short"><p>A CpuId Entry contains supported feature information for the given processor.
This can be modified by the hypervisor to pass additional information to the guest kernel
about the hypervisor or vm. Information is returned in the eax, ebx, ecx and edx registers
by the cpu for a given function and index/subfunction (passed into the cpu via the eax and ecx
register respectively).</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DebugRegs.html" title="hypervisor::x86_64::DebugRegs struct">DebugRegs</a></div><div class="item-right docblock-short"><p>State of a VCPU’s debug registers.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DescriptorTable.html" title="hypervisor::x86_64::DescriptorTable struct">DescriptorTable</a></div><div class="item-right docblock-short"><p>State of a global descriptor table or interrupt descriptor table.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Fpu.html" title="hypervisor::x86_64::Fpu struct">Fpu</a></div><div class="item-right docblock-short"><p>State of a VCPU’s floating point unit.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.IoapicRedirectionTableEntry.html" title="hypervisor::x86_64::IoapicRedirectionTableEntry struct">IoapicRedirectionTableEntry</a></div><div class="item-right docblock-short"><p>Represents a IOAPIC redirection table entry.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.IoapicState.html" title="hypervisor::x86_64::IoapicState struct">IoapicState</a></div><div class="item-right docblock-short"><p>Represents the state of the IOAPIC.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.LapicState.html" title="hypervisor::x86_64::LapicState struct">LapicState</a></div><div class="item-right docblock-short"><p>The LapicState represents the state of an x86 CPU’s Local APIC.
The Local APIC consists of 64 128-bit registers, but only the first 32-bits of each register
can be used, so this structure only stores the first 32-bits of each register.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MsiAddressMessage.html" title="hypervisor::x86_64::MsiAddressMessage struct">MsiAddressMessage</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MsiDataMessage.html" title="hypervisor::x86_64::MsiDataMessage struct">MsiDataMessage</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PicState.html" title="hypervisor::x86_64::PicState struct">PicState</a></div><div class="item-right docblock-short"><p>Represents the state of the PIC.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PitChannelState.html" title="hypervisor::x86_64::PitChannelState struct">PitChannelState</a></div><div class="item-right docblock-short"><p>The PitChannelState represents the state of one of the PIT’s three counters.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PitState.html" title="hypervisor::x86_64::PitState struct">PitState</a></div><div class="item-right docblock-short"><p>The PitState represents the state of the PIT (aka the Programmable Interval Timer).
The state is simply the state of it’s three channels.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Register.html" title="hypervisor::x86_64::Register struct">Register</a></div><div class="item-right docblock-short"><p>State of one VCPU register.  Currently used for MSRs and XCRs.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Regs.html" title="hypervisor::x86_64::Regs struct">Regs</a></div><div class="item-right docblock-short"><p>State of a VCPU’s general purpose registers.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Segment.html" title="hypervisor::x86_64::Segment struct">Segment</a></div><div class="item-right docblock-short"><p>State of a memory segment.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Sregs.html" title="hypervisor::x86_64::Sregs struct">Sregs</a></div><div class="item-right docblock-short"><p>State of a VCPU’s special registers.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.VcpuInitX86_64.html" title="hypervisor::x86_64::VcpuInitX86_64 struct">VcpuInitX86_64</a></div><div class="item-right docblock-short"><p>Initial state for x86_64 VCPUs.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DeliveryMode.html" title="hypervisor::x86_64::DeliveryMode enum">DeliveryMode</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DeliveryStatus.html" title="hypervisor::x86_64::DeliveryStatus enum">DeliveryStatus</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.DestinationMode.html" title="hypervisor::x86_64::DestinationMode enum">DestinationMode</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Level.html" title="hypervisor::x86_64::Level enum">Level</a></div><div class="item-right docblock-short"><p>The level of a level-triggered interrupt: asserted or deasserted.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PicInitState.html" title="hypervisor::x86_64::PicInitState enum">PicInitState</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PicSelect.html" title="hypervisor::x86_64::PicSelect enum">PicSelect</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PitRWMode.html" title="hypervisor::x86_64::PitRWMode enum">PitRWMode</a></div><div class="item-right docblock-short"><p>The PitRWMode enum represents the access mode of a PIT channel.
Reads and writes to the Pit happen over Port-mapped I/O, which happens one byte at a time,
but the count values and latch values are two bytes. So the access mode controls which of the
two bytes will be read when.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PitRWState.html" title="hypervisor::x86_64::PitRWState enum">PitRWState</a></div><div class="item-right docblock-short"><p>The PitRWState enum represents the state of reading to or writing from a channel.
This is related to the PitRWMode, it mainly gives more detail about the state of the channel
with respect to PitRWMode::Both.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.TriggerMode.html" title="hypervisor::x86_64::TriggerMode enum">TriggerMode</a></div><div class="item-right docblock-short"></div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.MAX_IOAPIC_PINS.html" title="hypervisor::x86_64::MAX_IOAPIC_PINS constant">MAX_IOAPIC_PINS</a></div><div class="item-right docblock-short"><p>Maximum number of pins on the IOAPIC.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.MSR_IA32_TSC.html" title="hypervisor::x86_64::MSR_IA32_TSC constant">MSR_IA32_TSC</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.NUM_IOAPIC_PINS.html" title="hypervisor::x86_64::NUM_IOAPIC_PINS constant">NUM_IOAPIC_PINS</a></div><div class="item-right docblock-short"><p>Number of pins on the standard KVM/IOAPIC.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.HypervisorX86_64.html" title="hypervisor::x86_64::HypervisorX86_64 trait">HypervisorX86_64</a></div><div class="item-right docblock-short"><p>A trait for managing cpuids for an x86_64 hypervisor and for checking its capabilities.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.VcpuX86_64.html" title="hypervisor::x86_64::VcpuX86_64 trait">VcpuX86_64</a></div><div class="item-right docblock-short"><p>A wrapper around creating and using a VCPU on x86_64.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.VmX86_64.html" title="hypervisor::x86_64::VmX86_64 trait">VmX86_64</a></div><div class="item-right docblock-short"><p>A wrapper for using a VM on x86_64 and getting/setting its state.</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_tsc_offset_from_msr.html" title="hypervisor::x86_64::get_tsc_offset_from_msr fn">get_tsc_offset_from_msr</a></div><div class="item-right docblock-short"><p>Implementation of get_tsc_offset that uses VcpuX86_64::get_msrs.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.host_phys_addr_bits.html" title="hypervisor::x86_64::host_phys_addr_bits fn">host_phys_addr_bits</a></div><div class="item-right docblock-short"><p>Gets host cpu max physical address bits.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.set_tsc_offset_via_msr.html" title="hypervisor::x86_64::set_tsc_offset_via_msr fn">set_tsc_offset_via_msr</a></div><div class="item-right docblock-short"><p>Implementation of get_tsc_offset that uses VcpuX86_64::get_msrs.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.LapicRegister.html" title="hypervisor::x86_64::LapicRegister type">LapicRegister</a></div><div class="item-right docblock-short"></div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="hypervisor" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0 (7737e0b5c 2022-04-04)" ></div>
</body></html>
<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait for file descriptors can send and receive socket control messages via `sendmsg` and `recvmsg`."><meta name="keywords" content="rust, rustlang, rust-lang, ScmSocket"><title>ScmSocket in base::sys::unix::sock_ctrl_msg - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../../../storage.js"></script><script src="../../../../crates.js"></script><script defer src="../../../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../../../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../../../base/index.html"><div class="logo-container"><img class="rust-logo" src="../../../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../../../base/index.html"><div class="logo-container"><img class="rust-logo" src="../../../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">ScmSocket</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><ul><li><a href="#tymethod.socket_fd">socket_fd</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><ul><li><a href="#method.recv_iovecs_with_fds">recv_iovecs_with_fds</a></li><li><a href="#method.recv_with_fd">recv_with_fd</a></li><li><a href="#method.recv_with_fds">recv_with_fds</a></li><li><a href="#method.send_bufs_with_fd">send_bufs_with_fd</a></li><li><a href="#method.send_bufs_with_fds">send_bufs_with_fds</a></li><li><a href="#method.send_with_fd">send_with_fd</a></li><li><a href="#method.send_with_fds">send_with_fds</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul><li><a href="#impl-ScmSocket-for-UnixDatagram">UnixDatagram</a></li><li><a href="#impl-ScmSocket-for-UnixStream">UnixStream</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div></section><h2 class="location"><a href="index.html">In base::sys::unix::sock_ctrl_msg</a></h2><div id="sidebar-vars" data-name="ScmSocket" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../../../base/index.html"><img class="rust-logo" src="../../../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Trait <a href="../../../index.html">base</a>::<wbr><a href="../../index.html">sys</a>::<wbr><a href="../index.html">unix</a>::<wbr><a href="index.html">sock_ctrl_msg</a>::<wbr><a class="trait" href="#">ScmSocket</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#236-348">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust trait"><code>pub trait ScmSocket {
    fn <a href="#tymethod.socket_fd" class="fnname">socket_fd</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a>;

    fn <a href="#method.send_with_fd" class="fnname">send_with_fd</a>&lt;D:&nbsp;<a class="trait" href="trait.AsIobuf.html" title="trait base::sys::unix::sock_ctrl_msg::AsIobuf">AsIobuf</a>&gt;(&amp;self, buf: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[D]</a>, fd: <a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a>) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.send_with_fds" class="fnname">send_with_fds</a>&lt;D:&nbsp;<a class="trait" href="trait.AsIobuf.html" title="trait base::sys::unix::sock_ctrl_msg::AsIobuf">AsIobuf</a>&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[D]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[</a><a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.send_bufs_with_fd" class="fnname">send_bufs_with_fd</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bufs: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[</a><a class="struct" href="https://doc.rust-lang.org/1.60.0/std/io/struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.send_bufs_with_fds" class="fnname">send_bufs_with_fds</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bufs: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[</a><a class="struct" href="https://doc.rust-lang.org/1.60.0/std/io/struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[</a><a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.recv_with_fd" class="fnname">recv_with_fd</a>(&amp;self, buf: <a class="struct" href="https://doc.rust-lang.org/1.60.0/std/io/struct.IoSliceMut.html" title="struct std::io::IoSliceMut">IoSliceMut</a>&lt;'_&gt;) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">(</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>, <a class="enum" href="https://doc.rust-lang.org/1.60.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.60.0/std/fs/struct.File.html" title="struct std::fs::File">File</a>&gt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">)</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.recv_with_fds" class="fnname">recv_with_fds</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buf: <a class="struct" href="https://doc.rust-lang.org/1.60.0/std/io/struct.IoSliceMut.html" title="struct std::io::IoSliceMut">IoSliceMut</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fds: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;mut [</a><a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">(</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>, <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">)</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.recv_iovecs_with_fds" class="fnname">recv_iovecs_with_fds</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iovecs: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="https://doc.rust-lang.org/1.60.0/std/io/struct.IoSliceMut.html" title="struct std::io::IoSliceMut">IoSliceMut</a>&lt;'_&gt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fds: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;mut [</a><a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">(</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>, <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">)</a>&gt; { ... }
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trait for file descriptors can send and receive socket control messages via <code>sendmsg</code> and
<code>recvmsg</code>.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="tymethod.socket_fd" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#238">source</a></div><h4 class="code-header">fn <a href="#tymethod.socket_fd" class="fnname">socket_fd</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a></h4></div></summary><div class="docblock"><p>Gets the file descriptor of this socket.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.send_with_fd" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#248-250">source</a></div><h4 class="code-header">fn <a href="#method.send_with_fd" class="fnname">send_with_fd</a>&lt;D:&nbsp;<a class="trait" href="trait.AsIobuf.html" title="trait base::sys::unix::sock_ctrl_msg::AsIobuf">AsIobuf</a>&gt;(&amp;self, buf: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[D]</a>, fd: <a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a>) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock"><p>Sends the given data and file descriptor over the socket.</p>
<p>On success, returns the number of bytes sent.</p>
<h5 id="arguments"><a href="#arguments">Arguments</a></h5>
<ul>
<li><code>buf</code> - A buffer of data to send on the <code>socket</code>.</li>
<li><code>fd</code> - A file descriptors to be sent.</li>
</ul>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.send_with_fds" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#260-262">source</a></div><h4 class="code-header">fn <a href="#method.send_with_fds" class="fnname">send_with_fds</a>&lt;D:&nbsp;<a class="trait" href="trait.AsIobuf.html" title="trait base::sys::unix::sock_ctrl_msg::AsIobuf">AsIobuf</a>&gt;(&amp;self, buf: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[D]</a>, fd: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[</a><a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock"><p>Sends the given data and file descriptors over the socket.</p>
<p>On success, returns the number of bytes sent.</p>
<h5 id="arguments-1"><a href="#arguments-1">Arguments</a></h5>
<ul>
<li><code>buf</code> - A buffer of data to send on the <code>socket</code>.</li>
<li><code>fds</code> - A list of file descriptors to be sent.</li>
</ul>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.send_bufs_with_fd" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#272-274">source</a></div><h4 class="code-header">fn <a href="#method.send_bufs_with_fd" class="fnname">send_bufs_with_fd</a>(&amp;self, bufs: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[</a><a class="struct" href="https://doc.rust-lang.org/1.60.0/std/io/struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>, fd: <a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a>) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock"><p>Sends the given data and file descriptor over the socket.</p>
<p>On success, returns the number of bytes sent.</p>
<h5 id="arguments-2"><a href="#arguments-2">Arguments</a></h5>
<ul>
<li><code>bufs</code> - A slice of slices of data to send on the <code>socket</code>.</li>
<li><code>fd</code> - A file descriptors to be sent.</li>
</ul>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.send_bufs_with_fds" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#284-286">source</a></div><h4 class="code-header">fn <a href="#method.send_bufs_with_fds" class="fnname">send_bufs_with_fds</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;bufs: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[</a><a class="struct" href="https://doc.rust-lang.org/1.60.0/std/io/struct.IoSlice.html" title="struct std::io::IoSlice">IoSlice</a>&lt;'_&gt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;fd: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;[</a><a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a><br>) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>&gt;</h4></div></summary><div class="docblock"><p>Sends the given data and file descriptors over the socket.</p>
<p>On success, returns the number of bytes sent.</p>
<h5 id="arguments-3"><a href="#arguments-3">Arguments</a></h5>
<ul>
<li><code>bufs</code> - A slice of slices of data to send on the <code>socket</code>.</li>
<li><code>fds</code> - A list of file descriptors to be sent.</li>
</ul>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.recv_with_fd" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#295-306">source</a></div><h4 class="code-header">fn <a href="#method.recv_with_fd" class="fnname">recv_with_fd</a>(&amp;self, buf: <a class="struct" href="https://doc.rust-lang.org/1.60.0/std/io/struct.IoSliceMut.html" title="struct std::io::IoSliceMut">IoSliceMut</a>&lt;'_&gt;) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">(</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>, <a class="enum" href="https://doc.rust-lang.org/1.60.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.60.0/std/fs/struct.File.html" title="struct std::fs::File">File</a>&gt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">)</a>&gt;</h4></div></summary><div class="docblock"><p>Receives data and potentially a file descriptor from the socket.</p>
<p>On success, returns the number of bytes and an optional file descriptor.</p>
<h5 id="arguments-4"><a href="#arguments-4">Arguments</a></h5>
<ul>
<li><code>buf</code> - A buffer to receive data from the socket.vm</li>
</ul>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.recv_with_fds" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#321-323">source</a></div><h4 class="code-header">fn <a href="#method.recv_with_fds" class="fnname">recv_with_fds</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;buf: <a class="struct" href="https://doc.rust-lang.org/1.60.0/std/io/struct.IoSliceMut.html" title="struct std::io::IoSliceMut">IoSliceMut</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;fds: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;mut [</a><a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a><br>) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">(</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>, <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">)</a>&gt;</h4></div></summary><div class="docblock"><p>Receives data and file descriptors from the socket.</p>
<p>On success, returns the number of bytes and file descriptors received as a tuple
<code>(bytes count, files count)</code>.</p>
<h5 id="arguments-5"><a href="#arguments-5">Arguments</a></h5>
<ul>
<li><code>buf</code> - A buffer to receive data from the socket.</li>
<li><code>fds</code> - A slice of <code>RawFd</code>s to put the received file descriptors into. On success, the
number of valid file descriptors is indicated by the second element of the
returned tuple. The caller owns these file descriptors, but they will not be
closed on drop like a <code>File</code>-like type would be. It is recommended that each valid
file descriptor gets wrapped in a drop type that closes it after this returns.</li>
</ul>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.recv_iovecs_with_fds" class="method has-srclink"><div class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#341-347">source</a></div><h4 class="code-header">fn <a href="#method.recv_iovecs_with_fds" class="fnname">recv_iovecs_with_fds</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;iovecs: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;mut [</a><a class="struct" href="https://doc.rust-lang.org/1.60.0/std/io/struct.IoSliceMut.html" title="struct std::io::IoSliceMut">IoSliceMut</a>&lt;'_&gt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;fds: <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">&amp;mut [</a><a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.slice.html">]</a><br>) -&gt; <a class="type" href="../../../errno/type.Result.html" title="type base::errno::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">(</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a>, <a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.usize.html">usize</a><a class="primitive" href="https://doc.rust-lang.org/1.60.0/std/primitive.tuple.html">)</a>&gt;</h4></div></summary><div class="docblock"><p>Receives data and file descriptors from the socket.</p>
<p>On success, returns the number of bytes and file descriptors received as a tuple
<code>(bytes count, files count)</code>.</p>
<h5 id="arguments-6"><a href="#arguments-6">Arguments</a></h5>
<ul>
<li><code>iovecs</code> - A slice of buffers to store received data.</li>
<li><code>offset</code> - An offset for <code>bufs</code>. The first <code>offset</code> bytes in <code>bufs</code> won’t be touched.
Returns an error if <code>offset</code> is larger than or equal to the total size of
<code>bufs</code>.</li>
<li><code>fds</code> - A slice of <code>RawFd</code>s to put the received file descriptors into. On success, the
number of valid file descriptors is indicated by the second element of the
returned tuple. The caller owns these file descriptors, but they will not be
closed on drop like a <code>File</code>-like type would be. It is recommended that each valid
file descriptor gets wrapped in a drop type that closes it after this returns.</li>
</ul>
</div></details></div><h2 id="foreign-impls" class="small-section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-ScmSocket-for-UnixDatagram" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#350-354">source</a></span><a href="#impl-ScmSocket-for-UnixDatagram" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.ScmSocket.html" title="trait base::sys::unix::sock_ctrl_msg::ScmSocket">ScmSocket</a> for <a class="struct" href="https://doc.rust-lang.org/1.60.0/std/os/unix/net/datagram/struct.UnixDatagram.html" title="struct std::os::unix::net::datagram::UnixDatagram">UnixDatagram</a></h3></section></summary><div class="impl-items"><section id="method.socket_fd" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#351-353">source</a></span><a href="#method.socket_fd" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.socket_fd" class="fnname">socket_fd</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a></h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-ScmSocket-for-UnixStream" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#356-360">source</a></span><a href="#impl-ScmSocket-for-UnixStream" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.ScmSocket.html" title="trait base::sys::unix::sock_ctrl_msg::ScmSocket">ScmSocket</a> for <a class="struct" href="https://doc.rust-lang.org/1.60.0/std/os/unix/net/stream/struct.UnixStream.html" title="struct std::os::unix::net::stream::UnixStream">UnixStream</a></h3></section></summary><div class="impl-items"><section id="method.socket_fd-1" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#357-359">source</a></span><a href="#method.socket_fd-1" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.socket_fd" class="fnname">socket_fd</a>(&amp;self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.60.0/std/os/fd/raw/type.RawFd.html" title="type std::os::fd::raw::RawFd">RawFd</a></h4></section></div></details><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"><section id="impl-ScmSocket" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#362-366">source</a></span><a href="#impl-ScmSocket" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.ScmSocket.html" title="trait base::sys::unix::sock_ctrl_msg::ScmSocket">ScmSocket</a> for <a class="struct" href="../net/struct.UnixSeqpacket.html" title="struct base::sys::unix::net::UnixSeqpacket">UnixSeqpacket</a></h3></section><section id="impl-ScmSocket-1" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../../../src/base/sys/unix/sock_ctrl_msg.rs.html#368-372">source</a></span><a href="#impl-ScmSocket-1" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="trait.ScmSocket.html" title="trait base::sys::unix::sock_ctrl_msg::ScmSocket">ScmSocket</a> for <a class="struct" href="../stream_channel/struct.StreamChannel.html" title="struct base::sys::unix::stream_channel::StreamChannel">StreamChannel</a></h3></section></div><script type="text/javascript" src="../../../../implementors/base/sys/unix/sock_ctrl_msg/trait.ScmSocket.js" async></script></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../../../" data-current-crate="base" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0 (7737e0b5c 2022-04-04)" ></div>
</body></html>
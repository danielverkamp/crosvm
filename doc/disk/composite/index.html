<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `composite` mod in crate `disk`."><meta name="keywords" content="rust, rustlang, rust-lang, composite"><title>disk::composite - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../disk/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../disk/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module composite</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section><div id="sidebar-vars" data-name="composite" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../disk/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">disk</a>::<wbr><a class="mod" href="#">composite</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/disk/composite.rs.html#5-1139">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ComponentDiskPart.html" title="disk::composite::ComponentDiskPart struct">ComponentDiskPart</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CompositeDiskFile.html" title="disk::composite::CompositeDiskFile struct">CompositeDiskFile</a></div><div class="item-right docblock-short"><p>Represents a composite virtual disk made out of multiple component files. This is described on
disk by a protocol buffer file that lists out the component file locations and their offsets
and lengths on the virtual disk. The spaces covered by the component disks must be contiguous
and not overlapping.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PartitionInfo.html" title="disk::composite::PartitionInfo struct">PartitionInfo</a></div><div class="item-right docblock-short"><p>Information about a partition to create.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.Error.html" title="disk::composite::Error enum">Error</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ImagePartitionType.html" title="disk::composite::ImagePartitionType enum">ImagePartitionType</a></div><div class="item-right docblock-short"><p>The type of partition.</p>
</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.CDISK_MAGIC.html" title="disk::composite::CDISK_MAGIC constant">CDISK_MAGIC</a></div><div class="item-right docblock-short"><p>A magic string placed at the beginning of a composite disk file to identify it.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.CDISK_MAGIC_LEN.html" title="disk::composite::CDISK_MAGIC_LEN constant">CDISK_MAGIC_LEN</a></div><div class="item-right docblock-short"><p>The length of the CDISK_MAGIC string. Created explicitly as a static constant so that it is
possible to create a character array of the same length.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.COMPOSITE_DISK_VERSION.html" title="disk::composite::COMPOSITE_DISK_VERSION constant">COMPOSITE_DISK_VERSION</a></div><div class="item-right docblock-short"><p>The version of the composite disk format supported by this implementation.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.DISK_SIZE_SHIFT.html" title="disk::composite::DISK_SIZE_SHIFT constant">DISK_SIZE_SHIFT</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.EFI_SYSTEM_PARTITION_GUID.html" title="disk::composite::EFI_SYSTEM_PARTITION_GUID constant">EFI_SYSTEM_PARTITION_GUID</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.HEADER_PADDING_LENGTH.html" title="disk::composite::HEADER_PADDING_LENGTH constant">HEADER_PADDING_LENGTH</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.LINUX_FILESYSTEM_GUID.html" title="disk::composite::LINUX_FILESYSTEM_GUID constant">LINUX_FILESYSTEM_GUID</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.PARTITION_ALIGNMENT_SIZE.html" title="disk::composite::PARTITION_ALIGNMENT_SIZE constant">PARTITION_ALIGNMENT_SIZE</a></div><div class="item-right docblock-short"><p>The amount of padding needed between the last partition entry and the first partition, to align
the partition appropriately. The two sectors are for the MBR and the GPT header.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.PARTITION_SIZE_SHIFT.html" title="disk::composite::PARTITION_SIZE_SHIFT constant">PARTITION_SIZE_SHIFT</a></div><div class="item-right docblock-short"></div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.align_to_power_of_2.html" title="disk::composite::align_to_power_of_2 fn">align_to_power_of_2</a></div><div class="item-right docblock-short"><p>Round <code>val</code> up to the next multiple of 2**<code>align_log</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.create_component_disks.html" title="disk::composite::create_component_disks fn">create_component_disks</a></div><div class="item-right docblock-short"><p>Create one or more <code>ComponentDisk</code> proto messages for the given partition.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.create_composite_disk.html" title="disk::composite::create_composite_disk fn">create_composite_disk</a></div><div class="item-right docblock-short"><p>Create a new composite disk image containing the given partitions, and write it out to the given
files.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.create_gpt_entry.html" title="disk::composite::create_gpt_entry fn">create_gpt_entry</a></div><div class="item-right docblock-short"><p>Create the <code>GptPartitionEntry</code> for the given partition.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.create_zero_filler.html" title="disk::composite::create_zero_filler fn">create_zero_filler</a></div><div class="item-right docblock-short"><p>Create a zero filler file which can be used to fill the gaps between partition files.
The filler is sized to be big enough to fill the gaps. (1 &lt;&lt; PARTITION_SIZE_SHIFT)</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.range_intersection.html" title="disk::composite::range_intersection fn">range_intersection</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.ranges_overlap.html" title="disk::composite::ranges_overlap fn">ranges_overlap</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.write_beginning.html" title="disk::composite::write_beginning fn">write_beginning</a></div><div class="item-right docblock-short"><p>Write protective MBR and primary GPT table.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.write_end.html" title="disk::composite::write_end fn">write_end</a></div><div class="item-right docblock-short"><p>Write secondary GPT table.</p>
</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.Result.html" title="disk::composite::Result type">Result</a></div><div class="item-right docblock-short"></div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="disk" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0 (7737e0b5c 2022-04-04)" ></div>
</body></html>